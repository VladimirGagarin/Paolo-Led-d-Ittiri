document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".section"),t=document.querySelector(".video-toggle"),n=document.getElementById("chiamo"),o=n.getAttribute("data-en"),s=["Arial, sans-serif","Courier New, monospace","Georgia, serif","Times New Roman, Times, serif","Verdana, sans-serif"];let l=0;function a(e,t,o){t<e.length?(n.innerHTML=e.substring(0,t+1)+'<span class="blink" aria-hidden="true"></span>',setTimeout((function(){a(e,t+1,o)}),100)):"function"==typeof o&&setTimeout(o,2e3)}function c(){n.style.fontFamily=s[l],a(o,0,(function(){l=(l+1)%s.length,setTimeout(c,2e3)}))}const d=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("in-view"),t.unobserve(e.target))}))}),{threshold:.5});e.forEach((e=>{d.observe(e)}));const i=document.getElementById("language-toggle");i.addEventListener("click",(()=>{const e=document.querySelectorAll("[data-en]"),t=i.textContent;e.forEach((e=>{e.textContent="Italiano"===t?e.getAttribute("data-it"):e.getAttribute("data-en")})),i.textContent="Italiano"===t?"Inglese":"Italiano"}));const r=document.getElementById("navbar"),u=document.querySelectorAll("#navbar ul li a"),m=document.getElementById("expand-navbar");u.forEach((e=>{e.addEventListener("click",(n=>{n.preventDefault();const o=e.getAttribute("href").substring(1),s=document.getElementById(o);document.querySelectorAll(".section").forEach((e=>{e.classList.remove("active"),t.style.display="none",c()})),s.classList.add("active"),r.classList.add("shrink"),m.classList.remove("hidden")}))})),m.addEventListener("click",(()=>{document.querySelectorAll(".section").forEach((e=>{e.classList.remove("active"),t.style.display="flex"})),r.classList.remove("shrink"),m.classList.add("hidden")})),window.addEventListener("load",(()=>{r.classList.remove("shrink")}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll("#gallery .project img"),t=document.getElementById("photo-div"),n=document.querySelector(".carousel-inner"),o=document.querySelector(".close-overlay"),s=document.querySelector(".carousel-control.prev"),l=document.querySelector(".carousel-control.next");let a=0,c=[];function d(){n.innerHTML="";const e=document.createElement("img");e.src=c[a].src,n.appendChild(e),s.style.display=0===a?"none":"block",l.style.display=a===c.length-1?"none":"block"}e.forEach((e=>{e.addEventListener("click",(()=>{const n=e.closest(".project");c=Array.from(n.querySelectorAll("img")),a=c.indexOf(e),d(),t.classList.remove("hidden")}))})),o.addEventListener("click",(()=>{t.classList.add("hidden")})),s.addEventListener("click",(()=>{a>0&&(a--,d())})),l.addEventListener("click",(()=>{a<c.length-1&&(a++,d())}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("background-video"),t=document.querySelectorAll(".toggle-box"),n=document.querySelector(".loading-div");let o;function s(){o=setTimeout((()=>{location.reload()}),6e3)}function l(){o&&clearTimeout(o)}e.src=t[0].dataset.video,t.forEach((o=>{o.addEventListener("click",(()=>{t.forEach((e=>e.classList.remove("active"))),o.classList.add("active"),n.style.display="flex",e.src=o.dataset.video,e.play()}))})),e.addEventListener("waiting",(()=>{n.style.display="flex",s()})),e.addEventListener("stalled",(()=>{n.style.display="flex",s()})),e.addEventListener("canplay",(()=>{n.style.display="none",l()})),e.addEventListener("play",(()=>{n.style.display="none",l()})),e.addEventListener("error",(()=>{n.style.display="flex",l()}))}));
